<div *ngIf="commentsLoaded">
  <button mat-button (click)="showComments()">
    <mat-icon>visibility</mat-icon>
    <span matBadge="{{ post.comments.length }}" matBadgeOverlap="false">
      Commentaires
    </span>
  </button>
  <div *ngIf="commentsShow">
    <ul>
      <li *ngFor="let comment of post.comments">
        {{ comment.creator?.name }} : {{ comment.commentText }}

        <button
          mat-button
          title="Supprimer le commentaire"
          *ngIf="comment.creator?.id == getId.userId || getId.level > 1"
          (click)="doDelete(comment.id)"
        >
          <mat-icon inline="true">highlight_off</mat-icon>
        </button>
      </li>
    </ul>

    <form [formGroup]="form" (submit)="submit()">
      <mat-form-field appearance="outline">
        <mat-label>Ajoutez un commentaire</mat-label>
        <input
          matInput
          type="text"
          formControlName="commentText"
          placeholder=""
        />
        <mat-icon matSuffix>sentiment_very_satisfied</mat-icon>
        <!-- <mat-hint>Hint</mat-hint> -->
      </mat-form-field>
      <button mat-raised-button color="primary">Envoyer</button>
    </form>
  </div>
</div>
