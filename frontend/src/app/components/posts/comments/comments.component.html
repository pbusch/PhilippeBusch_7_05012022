<div *ngIf="commentsLoaded">
  <button mat-button (click)="showComments()">
    <mat-icon class="icon-align">visibility</mat-icon>
    <span matBadge="{{ post.comments.length }}" matBadgeOverlap="false">
      Commentaires
    </span>
  </button>
  <div *ngIf="commentsShow">
    <ul>
      <li
        *ngFor="let comment of post.comments"
        class="d-flex flex-align-items-center comment-block"
      >
        <div class="firstChar">
          {{ comment.creator?.name | firstChar }}
        </div>
        <!-- </mat-card-subtitle> -->
        <div class="comment d-flex flex-column">
          <div class="comment-creator">{{ comment.creator?.name }}</div>
          <div class="comment-text">{{ comment.commentText }}</div>
        </div>
        <button
          mat-button
          title="Supprimer le commentaire"
          *ngIf="comment.creator?.id == getId.userId || getId.level > 1"
          (click)="doDelete(comment.id)"
        >
          <mat-icon inline="true" class="icon-align">highlight_off</mat-icon>
        </button>
        <br />
      </li>
    </ul>

    <form [formGroup]="form" (submit)="submit()">
      <mat-form-field appearance="outline">
        <mat-label>Ajoutez un commentaire</mat-label>
        <input
          matInput
          type="text"
          formControlName="commentText"
          placeholder=""
        />

        <mat-icon class="icon-align" matSuffix>record_voice_over</mat-icon>

        <mat-hint>Appuyez sur Entr√©e pour publier</mat-hint>
      </mat-form-field>
      <!-- <button mat-raised-button color="primary">Envoyer</button> -->
    </form>
  </div>
</div>
